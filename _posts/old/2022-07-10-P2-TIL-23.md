---
layout: single
title: TIL & Diary
date: 2022-07-10
toc: true
category: TIL
tags: [TIL, Diary]
excerpt: Prometheus, Grafana, Elasticsearch, Kibana, 화폐절하, 파일럿, 마음관리
---
## Devops  
1) Prometheus 설치 및 설정, Grafana 데이터소스 설정, Node-exporter로 메트릭 노출, kubernetes 환경에 접근 할 수 있도록 인그레스 리소스 설정, Prometheus Metric을 수집하도록 어플리케이션에 설정, Blackbox-exporter설정, 라이브러리로 직접 Metric노출 시키는 방법,   
2) 쿠버네티스에서 메트릭을 받아 Grafana에서 대시보드로 표현, Grafana Alertmanager를 이용해 Notify, Component 구조, 매니저를 거치지 않고 매트릭에서 바로 Notify 설정.   
3) ELK Stack 레거시 환경에서의 로그감시 프랙티스와 호스트와 앱이 디컬플링된 클라우드 네이티브 환경에서 로그감시 프랙티스, Elasticsearch 설치와 컴포넌트 컨셉, HA, Document, Dynamic mapping, 각 노드의 role 설정, 샤드의 컨셉에 따른 동작절차, Kibana를 통해 인덱스 쿼리, KQL 을 직접 만들거나 GUI로 만들기, Stack Management, Stack Monitoring  
(감상) — Elasticsearch에 대충 큰 그림만 알고 옛날에 일을 했었는데 다이나믹 타입이 있다는건 오늘 처음알았다. Kibana같은것도 쓸일이 없었는데 저렇게 광범위한 텍스트를 쿼리할 수 있다니 뭔가 해볼게 정말 많은것 같아서 재밌어보이긴하는데 뭐 어차피 스플렁크랑 비슷할거 같아서 호기심이 확 준다.

## Philosophy  
변화하는 세계질서   
 1) 1910년 부터 화폐의 평가절하와 그런 쓰나미로부터 살아남은 부의 저장수단에 대한 이야기. 세계대전의 영향, 왜 어떤 평가절하는 나라를 망하게 하고 어떤 평가절하는 여전히 제국을 유지하게 하는가 구분하는 방법. **그**리고 기축통화의 지위를 상실하는 시점(국력이 쇠퇴/중앙은행이 적자를 감당못해 부채를 화폐화할때)   
2) 국가 내부질서 사이클의 6단계에 대한 소개 (100년 사이클), 위험신호비율로 본 역사적 내전 발생 가능성 데이터에서 미국은 5년내 17%(!‼)

이 책은 중국 이야기가 많이 나오는데 궁금한게 한둘이 아니라 자주 인터넷 검색을 하게된다. 중국의 철도가 미국보다 훨씬 좋다는 이야기도 봤는데 더 재밌는건 미국의 파일럿들이 몽땅 중국으로 가서 미국의 항공교통이 현재 마비되어 있다는 뉴스였다. 아무래도 수송량이 많다보니 임금도 훨씬 높게 챙겨줄 수 있는건지 중국 항공업계가 무리해서 스카웃해가는건지. 아무리 미국이 좋다고해도 맨날 비행기 타고 있는 기장들 입장에선 나라가 뭔 소용이니 싶거니와 자유로운 노동시장에서 미국이 다른 나라에 인재를 뺏길수도 있다는게 충격적이었다.

## Dairy  
아침에 일어나서 3시간 동안 요리를 했다. 양파 요리하다 눈이 너무 피곤해서 15분 자고 하루종일 풀로 공부 보람차다. 유튜브에선 27년차 소프트웨어 개발자 분의 인터뷰를 봤는데. 아무리 기술이니 유행이니 해도 일단 마음이 평온하고 외부의 자극을 건강하게 받아들이는게 최고의 기술인것 같다.
## Life

* 움직인 시간: 2.5hr
* 습관 일기: Youtube 1시간 18분
* 생체배터리: 90% → 40%
  