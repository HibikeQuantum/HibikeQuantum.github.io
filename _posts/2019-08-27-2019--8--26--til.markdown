---
layout:	single
title:	"2019년 8월 27일 TIL"
date:	2019-08-26
# toc: true
category: TIL
tags: [TIL, Diary]
excerpt: 프로젝트평가, javascript, CORS, React-Router
---

![](/img/1*Orrj5d-AvTQBxl_5XexO4g.png){:.align-center}
손그림
{: .caption}
  
1. 프로젝트에 바로 참여할 수 있을지 평가하는 날이었다. 재밌어서 ‘이런거 매주에 한번 하면 좋겠는데?’란 생각도 들었지만 정성적 평가를 못하는 경쟁을 하게되면 대외적으로 보이는것만 신경쓰는 문제가 생긴다. 좋은 설계나 데이터의 확보 보단 요구되는 스펙만 맞추는것이나 뭔가를 복사하는데 끌리게 된다.
2. js의 `exports` 를 잘 활용하지 못했다. `module.exports.*`의 패턴으로 사용하라고 권장이 되어있길래 그것만 쓰다가 대응을 바로 못했다. 어떻게 돌아가는지는 아는데 거기로 집어넣는 과정에서 헤매니 환장.
3. Http에서 클라이언트로 파일 내려주는 작업을 하는데 40분 정도 소모했다. JSON만 쓰다가 적응을 못했다. Buffer를 쓰는걸로 해결은 했지만 그게 뭔지 아직도 정확히 모르겠다. 그리고 다시 확인해보니 Buffer를 안써고 response에 바로 담아도 된다. 환장. 파일을 반환시켜주면 Content-Lenth 헤더를 Http가 당연히 써주겠지라고 생각한게 오착.
4. file-system 을 활용하는데 Path를 지정하는데서 환경변화에 대응을 잘 못해서 20분 정도 낭비를 했다. 경로의존적인 것엔 `\_\_dirname` 쓰면 된다.
5. CORS 처리를 서버에서 해도 브라우저단에서 막는 문제가 있다. 확장앱을 안켜고 크롬 Security 모드도 안끄고 처리해보려고 fetch에 `mode:no-cors` 옵션을 활용하려다가 이렇게 쓸 경우 다른 종류의 응답이 오고 프로미스단에서 에러가 난다. 다르게 처리를 해야한다는 사실을 좀 늦게 깨달았다.
6. `React-Router`를 처음 썼는데 설계의 패러다임이 또 바뀌는것 같다.
7. 이미 써본것도 깔끔하게 한 큐에 안되고 한 두번 정도 버벅거리는게 전체적으로 작업진행속도를 늦췄다. 빠르게 제대로 하는 방법이 어디에 있지 않을까 고민은 해보지만 왕도는 없는것 같다.
  